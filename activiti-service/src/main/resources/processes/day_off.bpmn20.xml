<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="day_off" name="请假流程" isExecutable="true">
    <documentation>请假流程</documentation>
    <startEvent id="start"></startEvent>
    <userTask id="ask_day_off" name="填写请假申请"></userTask>
    <exclusiveGateway id="sid-9AE18093-A31A-4D33-9FF1-4D8F0B90C8CD"></exclusiveGateway>
    <sequenceFlow id="sid-10F75855-BCF6-4505-BEB5-775189718C5D" sourceRef="ask_day_off" targetRef="sid-9AE18093-A31A-4D33-9FF1-4D8F0B90C8CD"></sequenceFlow>
    <userTask id="mg_approve" name="经理审批" activiti:candidateGroups="MG" >
      <extensionElements>
        <modeler:group-info-name-MG xmlns:modeler="http://activiti.com/modeler"><![CDATA[经理岗]]></modeler:group-info-name-MG>
        <modeler:activiti-idm-candidate-group xmlns:modeler="http://activiti.com/modeler"><![CDATA[true]]></modeler:activiti-idm-candidate-group>
        <modeler:initiator-can-complete xmlns:modeler="http://activiti.com/modeler"><![CDATA[false]]></modeler:initiator-can-complete>
      </extensionElements>
    </userTask>
    <userTask id="gm_approve" name="总监审批" activiti:candidateGroups="GM">
      <extensionElements>
        <modeler:group-info-name-GM xmlns:modeler="http://activiti.com/modeler"><![CDATA[总监岗]]></modeler:group-info-name-GM>
        <modeler:activiti-idm-candidate-group xmlns:modeler="http://activiti.com/modeler"><![CDATA[true]]></modeler:activiti-idm-candidate-group>
        <modeler:initiator-can-complete xmlns:modeler="http://activiti.com/modeler"><![CDATA[false]]></modeler:initiator-can-complete>
      </extensionElements>
    </userTask>
    <userTask id="hr_approve" name="HR审批" activiti:candidateGroups="HR">
      <extensionElements>
        <modeler:group-info-name-HR xmlns:modeler="http://activiti.com/modeler"><![CDATA[人事岗]]></modeler:group-info-name-HR>
        <modeler:activiti-idm-candidate-group xmlns:modeler="http://activiti.com/modeler"><![CDATA[true]]></modeler:activiti-idm-candidate-group>
        <modeler:initiator-can-complete xmlns:modeler="http://activiti.com/modeler"><![CDATA[false]]></modeler:initiator-can-complete>
      </extensionElements>
    </userTask>
    <endEvent id="finish"></endEvent>
    <sequenceFlow id="sid-83D3275F-3A56-4334-AF93-0EB0A681C2D5" sourceRef="start" targetRef="ask_day_off"></sequenceFlow>
    <sequenceFlow id="more_than_3" name="大于3天" sourceRef="sid-9AE18093-A31A-4D33-9FF1-4D8F0B90C8CD" targetRef="gm_approve">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${param.days>3}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-2D8FBE0E-307C-4B7C-B328-92E948A438C5"></exclusiveGateway>
    <sequenceFlow id="sid-2572C604-2FE7-41FB-B178-834313C6023A" sourceRef="mg_approve" targetRef="sid-2D8FBE0E-307C-4B7C-B328-92E948A438C5"></sequenceFlow>
    <exclusiveGateway id="sid-2DAC5025-19C9-4379-AC30-653AE2ADF0FA"></exclusiveGateway>
    <sequenceFlow id="sid-CDDB7C40-5246-44DC-817D-B3AFB0A9133F" sourceRef="gm_approve" targetRef="sid-2DAC5025-19C9-4379-AC30-653AE2ADF0FA"></sequenceFlow>
    <sequenceFlow id="hr_comfirm" name="确认" sourceRef="hr_approve" targetRef="finish"></sequenceFlow>
    <sequenceFlow id="less_3" name="小于等于3天" sourceRef="sid-9AE18093-A31A-4D33-9FF1-4D8F0B90C8CD" targetRef="mg_approve">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${param.days<=3}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="mg_no" name="驳回" sourceRef="sid-2D8FBE0E-307C-4B7C-B328-92E948A438C5" targetRef="finish">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!approve}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="mg_yes" name="同意" sourceRef="sid-2D8FBE0E-307C-4B7C-B328-92E948A438C5" targetRef="hr_approve">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${approve}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="gm_no" name="驳回" sourceRef="sid-2DAC5025-19C9-4379-AC30-653AE2ADF0FA" targetRef="finish">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!approve}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="gm_yes" name="同意" sourceRef="sid-2DAC5025-19C9-4379-AC30-653AE2ADF0FA" targetRef="hr_approve">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${approve}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_day_off">
    <bpmndi:BPMNPlane bpmnElement="day_off" id="BPMNPlane_day_off">
      <bpmndi:BPMNShape bpmnElement="start" id="BPMNShape_start">
        <omgdc:Bounds height="30.0" width="30.0" x="160.0" y="158.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="ask_day_off" id="BPMNShape_ask_day_off">
        <omgdc:Bounds height="80.0" width="100.0" x="280.0" y="133.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-9AE18093-A31A-4D33-9FF1-4D8F0B90C8CD" id="BPMNShape_sid-9AE18093-A31A-4D33-9FF1-4D8F0B90C8CD">
        <omgdc:Bounds height="40.0" width="40.0" x="425.0" y="153.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="mg_approve" id="BPMNShape_mg_approve">
        <omgdc:Bounds height="80.0" width="100.0" x="510.0" y="30.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="gm_approve" id="BPMNShape_gm_approve">
        <omgdc:Bounds height="80.0" width="100.0" x="510.0" y="240.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="hr_approve" id="BPMNShape_hr_approve">
        <omgdc:Bounds height="80.0" width="100.0" x="730.0" y="150.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="finish" id="BPMNShape_finish">
        <omgdc:Bounds height="28.0" width="28.0" x="910.0" y="176.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-2D8FBE0E-307C-4B7C-B328-92E948A438C5" id="BPMNShape_sid-2D8FBE0E-307C-4B7C-B328-92E948A438C5">
        <omgdc:Bounds height="40.0" width="40.0" x="655.0" y="50.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-2DAC5025-19C9-4379-AC30-653AE2ADF0FA" id="BPMNShape_sid-2DAC5025-19C9-4379-AC30-653AE2ADF0FA">
        <omgdc:Bounds height="40.0" width="40.0" x="655.0" y="260.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="gm_no" id="BPMNEdge_gm_no">
        <omgdi:waypoint x="675.765625" y="299.234375"></omgdi:waypoint>
        <omgdi:waypoint x="675.765625" y="319.0"></omgdi:waypoint>
        <omgdi:waypoint x="924.0" y="319.0"></omgdi:waypoint>
        <omgdi:waypoint x="924.0" y="204.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-2572C604-2FE7-41FB-B178-834313C6023A" id="BPMNEdge_sid-2572C604-2FE7-41FB-B178-834313C6023A">
        <omgdi:waypoint x="610.0" y="70.21645021645021"></omgdi:waypoint>
        <omgdi:waypoint x="655.4130434782609" y="70.41304347826087"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="mg_no" id="BPMNEdge_mg_no">
        <omgdi:waypoint x="677.25" y="52.25"></omgdi:waypoint>
        <omgdi:waypoint x="677.25" y="28.0"></omgdi:waypoint>
        <omgdi:waypoint x="924.0" y="28.0"></omgdi:waypoint>
        <omgdi:waypoint x="924.0" y="176.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="mg_yes" id="BPMNEdge_mg_yes">
        <omgdi:waypoint x="695.0" y="70.0"></omgdi:waypoint>
        <omgdi:waypoint x="780.0" y="70.0"></omgdi:waypoint>
        <omgdi:waypoint x="780.0" y="150.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="hr_comfirm" id="BPMNEdge_hr_comfirm">
        <omgdi:waypoint x="830.0" y="190.0"></omgdi:waypoint>
        <omgdi:waypoint x="910.0" y="190.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CDDB7C40-5246-44DC-817D-B3AFB0A9133F" id="BPMNEdge_sid-CDDB7C40-5246-44DC-817D-B3AFB0A9133F">
        <omgdi:waypoint x="610.0" y="280.2164502164502"></omgdi:waypoint>
        <omgdi:waypoint x="655.4130434782609" y="280.4130434782609"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="less_3" id="BPMNEdge_less_3">
        <omgdi:waypoint x="445.5" y="153.5"></omgdi:waypoint>
        <omgdi:waypoint x="445.5" y="131.5"></omgdi:waypoint>
        <omgdi:waypoint x="560.0" y="131.5"></omgdi:waypoint>
        <omgdi:waypoint x="560.0" y="110.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="more_than_3" id="BPMNEdge_more_than_3">
        <omgdi:waypoint x="445.5" y="192.5"></omgdi:waypoint>
        <omgdi:waypoint x="445.5" y="216.5"></omgdi:waypoint>
        <omgdi:waypoint x="560.0" y="216.5"></omgdi:waypoint>
        <omgdi:waypoint x="560.0" y="240.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="gm_yes" id="BPMNEdge_gm_yes">
        <omgdi:waypoint x="695.0" y="280.0"></omgdi:waypoint>
        <omgdi:waypoint x="780.0" y="280.0"></omgdi:waypoint>
        <omgdi:waypoint x="780.0" y="230.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-10F75855-BCF6-4505-BEB5-775189718C5D" id="BPMNEdge_sid-10F75855-BCF6-4505-BEB5-775189718C5D">
        <omgdi:waypoint x="380.0" y="173.2164502164502"></omgdi:waypoint>
        <omgdi:waypoint x="425.4130434782609" y="173.41304347826087"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-83D3275F-3A56-4334-AF93-0EB0A681C2D5" id="BPMNEdge_sid-83D3275F-3A56-4334-AF93-0EB0A681C2D5">
        <omgdi:waypoint x="190.0" y="173.0"></omgdi:waypoint>
        <omgdi:waypoint x="280.0" y="173.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>