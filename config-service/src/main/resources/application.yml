---
spring:
  profiles:
    active: @profiles.active@
  security:
    user:
      name: kasaya
      password: kasaya
  rabbitmq:
    host: localhost
    port: 5672
    username: springcloud
    password: springcloud
  cloud:
    bus:
      trace:
        enabled: true
#endpoint
management:
  endpoint:
    httptrace:
      enabled: true
  endpoints:
    web:
      exposure:
        include: ['*'] #开启所有端点 httptrace <-路由追踪
      base-path: /
    enabled-by-default: true

server:
  port: 9093

#注册中心
eureka:
  client:
    serviceUrl:
      defaultZone: ${eureka.url}
  instance:
    #健康检查页面
    health-check-url-path: /status
      #状态页面
    status-page-url-path: /health
---
#本地环境启用native环境，扫描本地文件
spring:
  profiles: native
  application:
    name: config-server
  cloud:
    config:
      server:
        native: #从本地拉取环境
          clone-on-start: true
          force-pull: true
          timeout: 300 #链接超时时间
          search-locations: file:///C:/Users/cango/config-server-file/{application}
          #search-locations: ${user.home}/config-server-file/{application}
          #resource下
          #         search-locations: classpath:/scf-config/
          #linux绝对路径下
  #         search-locations: file://apps/vdp/cofig

#重要！！！
#关于SSH KEY， 需要在config—service生成的 ssh key 放到 git 库当中，并且手动链接一次生成konw_host文件
#因为spring boot 默认去读~/.ssh/know_host中的配置
#注册中心地址
eureka:
  url:  http://localhost:9090/eureka/

---
#dev环境配置
spring:
  profiles: dev
  application:
    name: config-server
  cloud:
    config:
      server:
        git: #从本地拉取环境
          clone-on-start: true
          force-pull: true
          timeout: 300 #链接超时时间
          uri: git@github.com:kasaya/config-file-lib.git
          #uri:  http://172.17.32.3/scf-service/scf-config-server.git  http模式
          #username: configuser
          #password: configpassowrd
          search-paths: '{application}'
#注册中心地址
eureka:
  url:  http://localhost:9090/eureka/